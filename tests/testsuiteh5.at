#!/bin/sh
# Testsuite for silo
AT_INIT(silo)
AT_COPYRIGHT([This work was produced at the University of California,
Lawrence Livermore National Laboratory (UC LLNL) under contract
no. W-7405-ENG-48 (Contract 48) between the U.S. Department of Energy
(DOE) and The Regents of the University of California (University) for
the operation of UC LLNL. The rights of the Federal Government are
reserved under Contract 48 subject to the restrictions agreed upon by
the DOE and University as allowed under DOE Acquisition Letter 97-1.])
AT_SETUP(array DB_PDB test)
AT_CHECK(array DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(array DB_HDF5 test)
AT_CHECK(array DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(extface DB_PDB test)
AT_CHECK(extface DB_PDB)
AT_CLEANUP
AT_SETUP(extface DB_HDF5 test)
AT_CHECK(extface DB_HDF5)
AT_CLEANUP
AT_SETUP(multi_test DB_PDB test)
AT_CHECK(multi_test DB_PDB,,ignore) 
AT_CLEANUP
AT_SETUP(multi_test DB_HDF5 test)
AT_CHECK(multi_test DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(partial_io DB_PDB test)
AT_CHECK(partial_io DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(partial_io DB_HDF5 test)
AT_CHECK(partial_io DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(point DB_PDB test)
AT_CHECK(point DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(point DB_HDF5 test)
AT_CHECK(point DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(simple DB_PDB -small test)
AT_CHECK(simple DB_PDB -small,,ignore)
AT_CLEANUP
AT_SETUP(simple DB_PDB -medium test)
AT_CHECK(simple DB_PDB -medium,,ignore)
AT_CLEANUP
AT_SETUP(simple DB_PDB -large test)
AT_CHECK(simple DB_PDB -large,,ignore)
AT_CLEANUP
AT_SETUP(simple DB_PDB -large -fortran test)
AT_CHECK(simple DB_PDB -large -fortran,,ignore)
AT_CLEANUP
AT_SETUP(simple DB_HDF5 -small test)
AT_CHECK(simple DB_HDF5 -small,,ignore)
AT_CLEANUP
AT_SETUP(simple DB_HDF5 -medium test)
AT_CHECK(simple DB_HDF5 -medium,,ignore)
AT_CLEANUP
AT_SETUP(simple DB_HDF5 -large test)
AT_CHECK(simple DB_HDF5 -large,,ignore)
AT_CLEANUP
AT_SETUP(simple DB_HDF5 -large -fortran test)
AT_CHECK(simple DB_HDF5 -large -fortran,,ignore)
AT_CLEANUP
AT_SETUP(ucd DB_PDB test)
AT_CHECK(ucd DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(ucd DB_HDF5 test)
AT_CHECK(ucd DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(ucdsamp3 DB_PDB test)
AT_CHECK(ucdsamp3 DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(ucdsamp3 DB_HDF5 test)
AT_CHECK(ucdsamp3 DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(testall DB_PDB test)
AT_CHECK(testall DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(testall DB_HDF5 test)
AT_CHECK(testall DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(obj DB_PDB test)
AT_CHECK(obj DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(obj DB_HDF5 test)
AT_CHECK(obj DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(onehex DB_PDB test)
AT_CHECK(onehex DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(onehex DB_HDF5 test)
AT_CHECK(onehex DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(oneprism DB_PDB test)
AT_CHECK(oneprism DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(oneprism DB_HDF5 test)
AT_CHECK(oneprism DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(onepyramid DB_PDB test)
AT_CHECK(onepyramid DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(onepyramid DB_HDF5 test)
AT_CHECK(onepyramid DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(onetet DB_PDB test)
AT_CHECK(onetet DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(onetet DB_HDF5 test)
AT_CHECK(onetet DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(subhex DB_PDB test)
AT_CHECK(subhex DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(subhex DB_HDF5 test)
AT_CHECK(subhex DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(TestReadMask test)
AT_CHECK(TestReadMask,,ignore)   # probably want a data directory
AT_CLEANUP
AT_SETUP(twohex DB_PDB test)
AT_CHECK(twohex DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(twohex DB_HDF5 test)
AT_CHECK(twohex DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(multispec DB_PDB test)
AT_CHECK(multispec DB_PDB,,ignore) 
AT_CLEANUP
AT_SETUP(multispec DB_HDF5 test)
AT_CHECK(multispec DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(sami DB_PDB test)
AT_CHECK(sami DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(sami DB_HDF5 test)
AT_CHECK(sami DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(specmix DB_PDB test)
AT_CHECK(specmix DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(specmix DB_HDF5 test)
AT_CHECK(specmix DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(spec DB_PDB test)
AT_CHECK(spec DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(spec DB_HDF5 test)
AT_CHECK(spec DB_HDF5,,ignore)
AT_CLEANUP
#AT_SETUP(cpz1plt DB_PDB test)
#AT_CHECK(cpz1plt)   # Fails with: Missing input file "z1plt", cannot continue.
#AT_CLEANUP
#AT_SETUP(group_test DB_PDB test)
#AT_CHECK(group_test 0 0 0 DB_PDB)
#AT_CLEANUP
#AT_SETUP(group_test DB_HDF5 test)
#AT_CHECK(group_test 0 0 0 DB_HDF5)
#AT_CLEANUP
AT_SETUP(listtypes DB_PDB test)
AT_CHECK(listtypes rect2d.pdb curv2d.pdb ucd2d.pdb,,ignore)
AT_CHECK(listtypes rect3d.pdb curv3d.pdb ucd3d.pdb,,ignore)
AT_CHECK(listtypes poly3d.pdb carray.pdb curve.pdb,,ignore)
AT_CLEANUP
AT_SETUP(listtypes DB_HDF5 test)
AT_CHECK(listtypes rect2d.h5 curv2d.h5 ucd2d.h5,,ignore)
AT_CHECK(listtypes rect3d.h5 curv3d.h5 ucd3d.h5,,ignore)
AT_CHECK(listtypes poly3d.h5 carray.h5 curve.h5,,ignore)
AT_CLEANUP
AT_SETUP(alltypes DB_PDB test)
AT_CHECK(alltypes DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(alltypes DB_HDF5 test)
AT_CHECK(alltypes DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(wave test)
AT_CHECK(wave)
AT_CLEANUP
AT_SETUP(multi_file DB_PDB test)
AT_CHECK(multi_file DB_PDB,,ignore) 
AT_CLEANUP
AT_SETUP(multi_file DB_HDF5 test)
AT_CHECK(multi_file DB_HDF5,,ignore) 
AT_CLEANUP
AT_SETUP(polyzl DB_PDB test)
AT_CHECK(polyzl DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(polyzl DB_HDF5 test)
AT_CHECK(polyzl DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(csg DB_PDB test)
AT_CHECK(csg DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(csg DB_HDF5 test)
AT_CHECK(csg DB_HDF5,,ignore)
AT_CLEANUP
AT_SETUP(mmadjacency DB_PDB test)
AT_CHECK(mmadjacency DB_PDB)
AT_CLEANUP
AT_SETUP(mmadjacency DB_HDF5 test)
AT_CHECK(mmadjacency DB_HDF5)
AT_CLEANUP
#AT_SETUP(largefile DB_PDB test)
#AT_CHECK(largefile DB_PDB)  # 2GByte file!
#AT_CLEANUP
#AT_SETUP(largefile DB_HDF5 test)
#AT_CHECK(largefile DB_HDF5)  # 2GByte file!
#AT_CLEANUP
#AT_SETUP(testpdb DB_PDB test)
#AT_CHECK(testpdb)   # Fails with: Error writing group.
#AT_CHECK(testpdb 0 0 0 DB_HDF5)   # Fails with: Error writing group.
#AT_CLEANUP
#AT_SETUP(merge_block test)
#AT_CHECK(merge_block) # requires arguments
#AT_CLEANUP
#AT_SETUP(resample test)
#AT_CHECK(resample) # mpi test, mpirun
#AT_CLEANUP
AT_SETUP(mat3d_3across test)
AT_CHECK(mat3d_3across)
AT_CLEANUP
AT_SETUP(ucd1d test)
AT_CHECK(ucd1d)
AT_CLEANUP
AT_SETUP(dir DB_PDB test)
AT_CHECK(dir DB_PDB,,ignore,ignore)
AT_CLEANUP
AT_SETUP(dir DB_HDF5 test)
AT_CHECK(dir DB_HDF5,,ignore,ignore)
AT_CLEANUP
AT_SETUP(quad DB_PDB test)
AT_CHECK(quad DB_PDB,,ignore)
AT_CLEANUP
AT_SETUP(quad DB_HDF5 test)
AT_CHECK(quad DB_HDF5,,ignore)
AT_CLEANUP
# For some reason pgf77 writes to stderr upon termination
# arrayf77: dumped core under pgf77 DBFortranAccessPointer: Invalid argument
#AT_SETUP(arrayf77 test)
#AT_CHECK(arrayf77,,ignore,ignore)   
#AT_CLEANUP
AT_SETUP(curvef77 test)
AT_CHECK(curvef77,,ignore,ignore)
AT_CLEANUP
AT_SETUP(matf77 test)
AT_CHECK(matf77,,ignore,ignore)
AT_CLEANUP
AT_SETUP(pointf77 test)
AT_CHECK(pointf77,,ignore,ignore)
AT_CLEANUP
AT_SETUP(quadf77 test)
AT_CHECK(quadf77,,ignore,ignore)
AT_CLEANUP
AT_SETUP(testallf77 test)
AT_CHECK(testallf77,,ignore,ignore)
AT_CLEANUP
AT_SETUP(ucdf77 test)
AT_CHECK(ucdf77,,ignore,ignore)
AT_CLEANUP
