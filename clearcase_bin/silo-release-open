#!/bin/sh
#######################################################################
#
# silo-release-open - Build and install a tarball on the open network.
#
# Author: Thomas Treadway
# Date: Thu Jun 15 12:48:17 PDT 2006
#
# Usage: 
#    silo-release-open version
#
# Modifications:
# Thomas R. Treadway, Wed Oct  3 13:48:15 PDT 2007
# Removed gps, added up
# Added build of silex, and included szip
#
#    Thomas R. Treadway, Fri Nov  2 16:17:59 PDT 2007
#    Tunning for release 4.6
#   
#######################################################################
#
BDTOPDIR="/usr/gapps/silo"
LCTOPDIR="/usr/gapps/silo"
#LCTOPDIR="/nfs/tmp0/$USER"
SZIPRELEASE=2.1
HDF5RELEASE=1.6.6
QTRELEASE=3.3.8
lcun=$USER
BININSTALLS="browser silex silock silodiff"

usage() {
  printf "Usage: %s version [-lc-username <lc-username>] [all|hoth|sunspot|up|yana|thunder|pengra|quad|bgl]" $0
  printf "\n"
  printf "Silo release installing script. Assumes a tarball exist in\n"
  printf "current directory, named something like silo-\$1.tar.gz.\n"
  printf "This script will attempt to:\n"
  printf "  1) copy tarball to B Div's /usr/gapps/silo/$VERSION and\n"
  printf "     LC's /usr/gapps/silo/$VERSION.\n"
  printf "  2) untar in /usr/gapps/silo/$VERSION/test.\n"
  printf "  3) start remote scripts on the target machines that\n"
  printf "     perform a configure, make check, followed by a make install\n"
  printf "     into directories /usr/gapps/silo/$VERSION/$ARCH.\n"
  printf "Log files are stored at ./HOSTNAME.log\n"
  printf "You may want to run this script from the LC network.\n"
}

hoth() {
    hothgcc
    hothpgc
    hothicc
}

hothgcc() {
  ssh hoth << EOF > hoth.log 2>&1 &
#!/bin/sh
    cd $BDTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin:/usr/atria/bin:/usr/lib/jre/bin:/sbin:/usr/sbin:/opt/bin:/usr/local/apps/bin:/usr/security/bin
    LD_LIBRARY_PATH=/usr/lib:/lib
    export PATH LD_LIBRARY_PATH
    rm -rf linux_rhel3-gcc-3.2.3
    mkdir linux_rhel3-gcc-3.2.3
    cd linux_rhel3-gcc-3.2.3
    ../$TOPSRCDIR/configure \
    FC=g77 F77=g77 \
    FFLAGS=-Wno-globals F77FLAGS=-Wno-globals FCFLAGS=-Wno-globals \
    --prefix=$BDTOPDIR/$VERSION/linux_rhel3-gcc-3.2.3 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 install
    make clean
    ../$TOPSRCDIR/configure \
    FC=g77 F77=g77 \
    FFLAGS=-Wno-globals F77FLAGS=-Wno-globals FCFLAGS=-Wno-globals \
    --prefix=$BDTOPDIR/$VERSION/linux_rhel3-gcc-3.2.3
    make -j 4 check
    make install
    chmod -R g+w $BDTOPDIR/$VERSION/linux_rhel3-gcc-3.2.3
    for FILE in $BININSTALLS
    do chmod -R g+w /misc/gapps/Linux/bin/$FILE
    done
EOF
}
hothpgc() {
  ssh hoth << EOF > hothpgc.log 2>&1 &
  #!bin/sh -c 
  cd $BDTOPDIR/$VERSION/test
  umask 002
  PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin:/usr/atria/bin:/sbin:/usr/sbin:/opt/bin:/usr/local/apps/bin:/usr/local/pgi/linux86/6.2/bin
    LM_LICENSE_FILE=/usr/local/flexlm/licenses/license.dat:7496@genesse.llnl.gov:7127@corona.llnl.gov:28528@license1ocf.llnl.gov
    export PATH LM_LICENSE_FILE
    rm -rf linux_rhel3-pgc-6.2
    mkdir linux_rhel3-pgc-6.2
    cd linux_rhel3-pgc-6.2
    ../$TOPSRCDIR/configure \
    CC=pgcc CXX=pgCC FC='pgf77 -g77libs' \
    --prefix=$BDTOPDIR/$VERSION/linux_rhel3-pgc-6.2 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CC=pgcc CXX=pgCC FC='pgf77 -g77libs' LDFLAGS=-lstdc++ \
    --prefix=$BDTOPDIR/$VERSION/linux_rhel3-pgc-6.2 \
    --disable-silex
    make -j 4 check
    make install
    ln -s $BDTOPDIR/$VERSION/linux_rhel3-gcc-3.2.3/bin/silex \
       $BDTOPDIR/$VERSION/linux_rhel3-pgc-6.2/bin/silex
    chmod -R g+w $BDTOPDIR/$VERSION/linux_rhel3-pgc-6.2
EOF
}
hothicc() {
  ssh hoth << EOF > hothicc.log 2>&1 &
  #!/bin/sh -c
  cd $BDTOPDIR/$VERSION/test
  umask 002
  PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin:/usr/atria/bin:/sbin:/usr/sbin:/opt/bin:/usr/local/apps/bin:/usr/local/intel/cc/current/bin:/usr/local/intel/fc/current/bin:/usr/local/intel/idb/current/bin
    LD_LIBRARY_PATH=/usr/lib:/lib:/usr/local/intel/cc/current/lib:/usr/local/intel/fc/current/lib
    INTEL_LICENSE_FILE=28528@license1ocf.llnl.gov
    LM_LICENSE_FILE=/usr/local/flexlm/licenses/license.dat:7496@genesse.llnl.gov:7127@corona.llnl.gov:28528@license1ocf.llnl.gov
    export PATH INTEL_LICENSE_FILE LM_LICENSE_FILE LD_LIBRARY_PATH
    rm -rf linux_rhel3-icc-9.1
    mkdir linux_rhel3-icc-9.1
    cd linux_rhel3-icc-9.1
    . /usr/local/intel/compiler90/bin/iccvars.sh
    ../$TOPSRCDIR/configure \
    CC=icc CXX=icc FC=ifort LDFLAGS=-lstdc++ \
    --prefix=$BDTOPDIR/$VERSION/linux_rhel3-icc-9.1 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CC=icc CXX=icc FC=ifort LDFLAGS=-lstdc++ \
    --prefix=$BDTOPDIR/$VERSION/linux_rhel3-icc-9.1 \
    --disable-silex
    make -j 4 check
    make install
    ln -s $BDTOPDIR/$VERSION/linux_rhel3-gcc-3.2.3/bin/silex \
       $BDTOPDIR/$VERSION/linux_rhel3-icc-9.1/bin/silex
    chmod -R g+w $BDTOPDIR/$VERSION/linux_rhel3-icc-9.1
EOF
}
    
sunspot() {
  sunspotgcc
  sunspotcc
}
sunspotgcc() {
# testsuite fails with bus error on "spec"
# weird truncated PATH via ssh
    ssh sunspot << EOF > sunspot.log 2>&1 &
    #!/bin/sh -c
    cd $BDTOPDIR/$VERSION/test;
    umask 002
    PATH=/usr/bin:/bin:/usr/local/apps/bin:/usr/local/bin:/usr/ccs/bin:/opt/SUNWspro/bin:/usr/ucb:/etc:/usr/openwin/bin:/usr/dt/bin:/usr/java/bin
    LD_LIBRARY_PATH=/usr/local/lib:/usr/lib:/lib
    export PATH LD_LIBRARY_PATH
    rm -rf sunos_57
    mkdir sunos_57
    cd sunos_57
    ../$TOPSRCDIR/configure \
    FC=g77 F77=g77 \
    FFLAGS=-Wno-globals F77FLAGS=-Wno-globals FCFLAGS=-Wno-globals \
    --prefix=$BDTOPDIR/$VERSION/sunos_57 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    FC=g77 F77=g77 \
    FFLAGS=-Wno-globals F77FLAGS=-Wno-globals FCFLAGS=-Wno-globals \
    --prefix=$BDTOPDIR/$VERSION/sunos_57
    make -j 4 check
    make install
    gmake bindir=/misc/gapps/SunOS/bin install-exec
    chmod -R g+w $BDTOPDIR/$VERSION/sunos_57
    for FILE in $BININSTALLS
    do chmod -R g+w /misc/gapps/SunOS/bin/$FILE
    done
EOF
}
sunspotcc() {
# weird truncated PATH via ssh
    ssh sunspot << EOF > sunspotcc.log 2>&1 &
    #!/bin/sh -c
    cd $BDTOPDIR/$VERSION/test;
    umask 002
    PATH=/usr/bin:/bin:/usr/local/apps/bin:/usr/local/bin:/usr/ccs/bin:/opt/SUNWspro/bin:/usr/ucb:/etc:/usr/openwin/bin:/usr/dt/bin:/usr/java/bin
    LD_LIBRARY_PATH=/usr/local/lib:/usr/lib:/lib
    export PATH LD_LIBRARY_PATH
    rm -rf sunos_57-cc-5.2
    mkdir sunos_57-cc-5.2
    cd sunos_57-cc-5.2
    ../$TOPSRCDIR/configure \
    CC=c89 CXX=CC FC=f77 \
    --prefix=$BDTOPDIR/$VERSION/sunos_57-cc-5.2 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    gmake -j 4 check
    gmake install
    gmake clean
    ../$TOPSRCDIR/configure \
    CC=c89 CXX=CC FC=f77 \
    LDFLAGS=-L/usr/local/lib \
    --prefix=$BDTOPDIR/$VERSION/sunos_57-cc-5.2 \
    --disable-silex --without-readline \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/sparc-sun-solaris-cc-5.2 \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/sparc-sun-solaris-cc-5.2/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/sparc-sun-solaris-cc-5.2/lib
    gmake -j 4 check
    gmake install
    ln -s $BDTOPDIR/$VERSION/sunos_57/bin/silex \
       $BDTOPDIR/$VERSION/sunos_57-cc-5.2/bin/silex
    chmod -R g+w $BDTOPDIR/$VERSION/sunos_57-cc-5.2
EOF
}

berg() {
# not using gcc
# use gmake for parallel seems to hang
# 32-bit and 64-bit compiles
  berg32
  berg64
}
berg32() {
    ssh ${lcun}@newberg << EOF > berg32.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/usr/bin:/usr/sbin:/usr/ucb:/usr/local/gnu/bin:/usr/local/scripts:/usr/apps/bin:/usr/gapps/bin
    OBJECT_MODE=32
    export PATH OBJECT_MODE
    rm -rf aix_5_ll
    mkdir aix_5_ll
    cd aix_5_ll
    ../$TOPSRCDIR/configure \
    --prefix=$LCTOPDIR/$VERSION/aix_5_ll \
    --disable-browser --disable-silex --without-hdf5 --without-szlib \
    --enable-fortran
    make install
    make clean
    OBJECT_MODE=64
    ../$TOPSRCDIR/configure \
    --prefix=$LCTOPDIR/$VERSION/aix_5_ll --enable-silex --enable-fortran \
    --with-Qt-dir=/usr/gapps/silo/qt/$QTRELEASE/aix_5_64_fed \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/aix_5_64_fed \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_64_fed/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_64_fed/lib
    make check
    make install
    chmod -R g+w $BDTOPDIR/$VERSION/aix_5_ll
EOF
}
berg64() {
    ssh ${lcun}@newberg << EOF > berg64.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/usr/bin:/usr/sbin:/usr/ucb:/usr/local/gnu/bin:/usr/local/scripts:/usr/apps/bin:/usr/gapps/bin
    OBJECT_MODE=64
    export PATH OBJECT_MODE
    rm -rf aix_5_64_fed
    mkdir aix_5_64_fed
    cd aix_5_64_fed
    ../$TOPSRCDIR/configure \
    PYTHON_CPPFLAGS=-I/usr/apps/python64/include/python2.4 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib \
    --enable-fortran
    make check
    make install
    make prefix=$LCTOPDIR/aix_5_64_fed/$VERSION install
    make clean
    ../$TOPSRCDIR/configure \
    --prefix=$LCTOPDIR/$VERSION/aix_5_64_fed --enable-silex --enable-fortran \
    --with-Qt-dir=/usr/gapps/silo/qt/$QTRELEASE/aix_5_64_fed \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/aix_5_64_fed \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_64_fed/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_64_fed/lib
    make check
    make install
    chmod -R g+w $BDTOPDIR/$VERSION/aix_5_64_fed
EOF
}

berggcc() {
# use gmake for parallel seems to hang
# 32-bit and 64-bit compiles
  berggcc64
  berggcc32
}
berggcc32() {
    ssh ${lcun}@newberg << EOF > berggcc32.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/usr/bin:/usr/sbin:/usr/ucb:/usr/local/gnu/bin:/usr/local/scripts:/usr/apps/bin:/usr/gapps/bin
    OBJECT_MODE=32
    export PATH OBJECT_MODE
    rm -rf aix_5_ll-gcc
    mkdir aix_5_ll-gcc
    cd aix_5_ll-gcc
    ../$TOPSRCDIR/configure \
    CC=gcc CXX=g++ FC=g77 F77=g77 \
    --prefix=$LCTOPDIR/$VERSION/aix_5_ll-gcc \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CC=gcc CXX=g++ FC=g77 F77=g77 \
    --prefix=$LCTOPDIR/$VERSION/aix_5_ll-gcc --disable-silex --enable-fortran \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/aix_5_ll-gcc \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_ll-gcc/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_ll-gcc/lib
    make check
    make install
    chmod -R g+w $BDTOPDIR/$VERSION/aix_5_ll-gcc
EOF
}
berggcc64() {
    ssh ${lcun}@newberg << EOF > berggcc64.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/usr/bin:/usr/sbin:/usr/ucb:/usr/local/gnu/bin:/usr/local/scripts:/usr/apps/bin:/usr/gapps/bin
    OBJECT_MODE=64
    export PATH OBJECT_MODE
    rm -rf aix_5_64_fed-gcc
    mkdir aix_5_64_fed-gcc
    cd aix_5_64_fed-gcc
    ../$TOPSRCDIR/configure \
    CC=gcc CXX=g++ FC=g77 F77=g77 \
    PYTHON_CPPFLAGS=-I/usr/apps/python64/include/python2.4 \
    --prefix=$LCTOPDIR/$VERSION/aix_5_64_fed-gcc \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    gmake check
    gmake install
    gmake clean
    ../$TOPSRCDIR/configure \
    CC=gcc CXX=g++ FC=g77 F77=g77 \
    PYTHON_CPPFLAGS=-I/usr/apps/python64/include/python2.4 \
    --prefix=$LCTOPDIR/$VERSION/aix_5_64_fed-gcc --enable-silex --enable-fortran \
    --with-Qt-dir=/usr/gapps/silo/qt/$QTRELEASE/aix_5_64_fed \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/aix_5_64_fed-gcc \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_64_fed-gcc/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_64_fed-gcc/lib
    gmake check
    gmake install
    chmod -R g+w $BDTOPDIR/$VERSION/aix_5_64_fed-gcc
EOF
}

up() {
# not using gcc
# use gmake for parallel seems to hang
# 32-bit and 64-bit compiles
  up64
  up32
  upgcc
}
up32() {
    ssh ${lcun}@up << EOF > up32.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/usr/bin:/usr/sbin:/usr/ucb:/usr/local/gnu/bin:/usr/local/scripts:/usr/apps/bin:/usr/gapps/bin
    OBJECT_MODE=32
    export PATH OBJECT_MODE
    rm -rf aix_5_ll
    mkdir aix_5_ll
    cd aix_5_ll
    ../$TOPSRCDIR/configure \
    --prefix=$LCTOPDIR/$VERSION/aix_5_ll \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    gmake check
    gmake install
    gmake clean
    ../$TOPSRCDIR/configure \
    --prefix=$LCTOPDIR/$VERSION/aix_5_ll \
    --disable-silex
    gmake check
    gmake install
    ln -s $LCTOPDIR/$VERSION/aix_5_64_fed/bin/silex \
       $LCTOPDIR/$VERSION/aix_5_ll/bin/silex
    chmod -R g+w $BDTOPDIR/$VERSION/aix_5_ll
EOF
}
up64() {
    ssh ${lcun}@up << EOF > up64.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/usr/bin:/usr/sbin:/usr/ucb:/usr/local/gnu/bin:/usr/local/scripts:/usr/apps/bin:/usr/gapps/bin
    OBJECT_MODE=64
    export PATH OBJECT_MODE
    rm -rf aix_5_64_fed
    mkdir aix_5_64_fed
    cd aix_5_64_fed
    ../$TOPSRCDIR/configure \
    PYTHON_CPPFLAGS=-I/usr/apps/python64/include/python2.4 \
    --prefix=$LCTOPDIR/$VERSION/aix_5_64_fed \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    gmake check
    gmake install
    gmake clean
    ../$TOPSRCDIR/configure \
    --prefix=$LCTOPDIR/$VERSION/aix_5_64_fed
    gmake check
    gmake install
    gmake bindir=/usr/gapps/bin/aix_5_64 install-exec
    gmake bindir=/usr/gapps/bin/aix_5_64_fed install-exec
    gmake bindir=/usr/gapps/bin/aix_5_ll install-exec
    chmod -R g+w $BDTOPDIR/$VERSION/aix_5_64_fed
    for FILE in $BININSTALLS
    do chmod -R g+w /usr/gapps/bin/aix_5_64/$FILE
       chmod -R g+w /usr/gapps/bin/aix_5_64_fed/$FILE
       chmod -R g+w /usr/gapps/bin/aix_5_lld/$FILE
    done
EOF
}

upgcc() {
# use gmake for parallel seems to hang
# 32-bit and 64-bit compiles
  upgcc32
  upgcc64
}
upgcc32() {
    ssh ${lcun}@up << EOF > upgcc32.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/usr/bin:/usr/sbin:/usr/ucb:/usr/local/gnu/bin:/usr/local/scripts:/usr/apps/bin:/usr/gapps/bin
    OBJECT_MODE=32
    export PATH OBJECT_MODE
    rm -rf aix_5_ll-gcc
    mkdir aix_5_ll-gcc
    cd aix_5_ll-gcc
    ../$TOPSRCDIR/configure \
    CFLAGS=-mminimal-toc CXXFLAGS=-mminimal-toc \
    CC=gcc CXX=g++ FC=g77 F77=g77 \
    --prefix=$LCTOPDIR/$VERSION/aix_5_ll-gcc \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    gmake check
    gmake install
    gmake clean
    ../$TOPSRCDIR/configure \
    CFLAGS=-mminimal-toc CXXFLAGS=-mminimal-toc \
    CC=gcc CXX=g++ FC=g77 F77=g77 \
    --prefix=$LCTOPDIR/$VERSION/aix_5_ll-gcc --disable-silex \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/aix_5_ll-gcc \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_ll-gcc/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_ll-gcc/lib
    gmake check
    gmake install
    ln -s $LCTOPDIR/$VERSION/aix_5_64_fed/bin/silex \
       $LCTOPDIR/$VERSION/aix_5_ll-gcc/bin/silex
    chmod -R g+w $BDTOPDIR/$VERSION/aix_5_ll-gcc
EOF
}
upgcc64() {
    ssh ${lcun}@up << EOF > upgcc64.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/usr/bin:/usr/sbin:/usr/ucb:/usr/local/gnu/bin:/usr/local/scripts:/usr/apps/bin:/usr/gapps/bin
    OBJECT_MODE=64
    export PATH OBJECT_MODE
    rm -rf aix_5_64_fed-gcc
    mkdir aix_5_64_fed-gcc
    cd aix_5_64_fed-gcc
    ../$TOPSRCDIR/configure \
    CFLAGS=-mminimal-toc CXXFLAGS=-mminimal-toc \
    CC=gcc CXX=g++ FC=g77 F77=g77 \
    PYTHON_CPPFLAGS=-I/usr/apps/python64/include/python2.4 \
    --prefix=$LCTOPDIR/$VERSION/aix_5_64_fed-gcc \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    gmake check
    gmake install
    gmake clean
    ../$TOPSRCDIR/configure \
    CFLAGS=-mminimal-toc CXXFLAGS=-mminimal-toc \
    CC=gcc CXX=g++ FC=g77 F77=g77 \
    PYTHON_CPPFLAGS=-I/usr/apps/python64/include/python2.4 \
    --prefix=$LCTOPDIR/$VERSION/aix_5_64_fed-gcc \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/aix_5_64_fed-gcc \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_64_fed-gcc/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/aix_5_64_fed-gcc/lib
    gmake check
    gmake install
    ln -s $LCTOPDIR/$VERSION/aix_5_64_fed/bin/silex \
       $LCTOPDIR/$VERSION/aix_5_64_fed-gcc/bin/silex
    chmod -R g+w $BDTOPDIR/$VERSION/aix_5_64_fed-gcc
EOF
}

gps() {
# the default g++ has bugs 
# problems with g77 floating exception during testsuite of quadf77 & ucdf77
    ssh ${lcun}@gps << EOF > gps.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/usr/bin:/usr/ccs/bin:/usr/bin/X11:/usr/apps/bin:/usr/gapps/bin
    export PATH
    rm -rf tru64_5
    mkdir tru64_5
    cd tru64_5
    ../$TOPSRCDIR/configure \
    --prefix=$LCTOPDIR/$VERSION/tru64_5 \
    --disable-browser
    gmake -j 4 check
    gmake install
    gmake clean
    ../$TOPSRCDIR/configure \
    --prefix=$LCTOPDIR/$VERSION/tru64_5 \
    --without-readline --enable-silex \
    --with-Qt-dir=/usr/gapps/visit/qt/3.3.2/tru64_5-gcc_3.3.3 \
    --with-hdf5=/usr/local/hdf5/hdf5-1.6.5/serial/include,/usr/local/hdf5/hdf5-1.6.5/serial/lib
    gmake -j 4 check
    gmake install
    chmod -R g+w $BDTOPDIR/$VERSION/tru64_5
EOF
}
gpscc() {
    ssh ${lcun}@gps << EOF > gpscc.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/bin:/usr/bin:/usr/ccs/bin:/usr/bin/X11:/usr/apps/bin:/usr/gapps/bin
    export PATH
    rm -rf tru64_5_cc
    mkdir tru64_5_cc
    cd tru64_5_cc
    ../$TOPSRCDIR/configure \
    CC=c89 CXX=cxx FC=f77 F77=f77 \
    --prefix=$LCTOPDIR/$VERSION/tru64_5_cc \
    --disable-browser
    gmake -j 4 check
    gmake install
    gmake clean
    ../$TOPSRCDIR/configure \
    CC=c89 CXX=cxx FC=f77 F77=f77 \
    --prefix=$LCTOPDIR/$VERSION/tru64_5_cc --disable-silex \
    --with-hdf5=/usr/local/hdf5/hdf5-1.6.5/serial/include,/usr/local/hdf5/hdf5-1.6.5/serial/lib
    gmake -j 4 check
    gmake install
    chmod -R g+w $LCTOPDIR/$VERSION/tru64_5_cc
EOF
}
    
pengra() {
  pengragcc
  pengraicc
}
    
pengragcc() {
    ssh ${lcun}@pengra << EOF > pengragcc.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/intel/compiler91/bin:/usr/local/bin:/bin:/usr/bin:/usr/bin/X11:/usr/lib/mpi/bin:/usr/apps/bin:/usr/gapps/bin
    export PATH
    rm -rf chaos_3_x86_elan3
    mkdir chaos_3_x86_elan3
    cd chaos_3_x86_elan3
    ../$TOPSRCDIR/configure \
    CC=gcc CXX=g++ FC=g77 F77=g77 \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_elan3 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CC=gcc CXX=g++ FC=g77 F77=g77 \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_elan3
    make -j 4 check
    make install
    chmod -R g+w $BDTOPDIR/$VERSION/chaos_3_x86_elan3
EOF
}
    
pengraicc() {
    ssh ${lcun}@pengra << EOF > pengraicc.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/intel/compiler100_025/bin:/usr/local/bin:/bin:/usr/bin:/usr/bin/X11:/usr/lib/mpi/bin:/usr/apps/bin:/usr/gapps/bin
    export PATH
    rm -rf chaos_3_x86_elan3-icc
    mkdir chaos_3_x86_elan3-icc
    cd chaos_3_x86_elan3-icc
    ../$TOPSRCDIR/configure \
    CC=icc CXX=icc FC=ifort LDFLAGS=-lstdc++ \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_elan3-icc \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CC=icc CXX=icc FC=ifort LDFLAGS=-lstdc++ \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_elan3-icc --enable-silex \
    --with-Qt-dir=/usr/gapps/silo/qt/$QTRELEASE/chaos_3_x86_elan3-icc \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/chaos_3_x86_elan3-icc \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/chaos_3_x86_elan3-icc/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/chaos_3_x86_elan3-icc/lib
    make -j 4 check
    make install
    gmake bindir=/usr/gapps/bin/chaos_3_x86_elan3 install-exec
    chmod -R g+w $BDTOPDIR/$VERSION/chaos_3_x86_elan3-icc
    for FILE in $BININSTALLS
    do chmod -R g+w /usr/gapps/bin/chaos_3_x86_elan3/$FILE
    done
EOF
}
    
yana() {
  yanagcc
  yanaicc
  yanapgc
  yanapsc
}
yanagcc() {
    ssh ${lcun}@yana << EOF > yanagcc.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/intel/compiler91/bin:/usr/local/bin:/bin:/usr/bin:/usr/bin/X11:/usr/lib/mpi/bin:/usr/apps/bin:/usr/gapps/bin
    export PATH
    rm -rf chaos_3_x86_64
    mkdir chaos_3_x86_64
    cd chaos_3_x86_64
    ../$TOPSRCDIR/configure \
    FFLAGS=-Wno-globals F77FLAGS=-Wno-globals FCFLAGS=-Wno-globals \
    CC=gcc CXX=g++ FC=f77 \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_64 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    CC=gcc CXX=g++ FC=f77 \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_64
    make -j 4 check
    make install
    chmod -R g+w $BDTOPDIR/$VERSION/chaos_3_x86_64
EOF
}
    
yanaicc() {
    ssh ${lcun}@yana << EOF > yanaicc.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/intel/compiler91_64/bin:/usr/local/bin:/bin:/usr/bin:/usr/bin/X11:/usr/lib/mpi/bin:/usr/apps/bin:/usr/gapps/bin:/usr/kerberos/bin
    INTEL_LICENSE_FILE=/usr/local/intel/compiler91_64/licenses:/opt/intel/licenses
    LM_LICENSE_FILE=/usr/local/etc/license.client
    export PATH INTEL_LICENSE_FILE LM_LICENSE_FILE
    rm -rf chaos_3_x86_64-icc
    mkdir chaos_3_x86_64-icc
    cd chaos_3_x86_64-icc
    ../$TOPSRCDIR/configure \
    CC=icc CXX=icc FC=ifort LDFLAGS=-lstdc++ \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_64-icc \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CC=icc CXX=icc FC=ifort LDFLAGS=-lstdc++ \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_64-icc \
    --enable-silex \
    --with-Qt-dir=/usr/gapps/silo/qt/$QTRELEASE/chaos_3_x86_64-icc \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/chaos_3_x86_64-icc \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/chaos_3_x86_64-icc/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/chaos_3_x86_64-icc/lib
    make -j 4 check
    make install
    gmake bindir=/usr/gapps/bin/chaos_3_x86_64 install-exec
    gmake bindir=/usr/gapps/bin/chaos_3_x86_64_elan4 install-exec
    gmake bindir=/usr/gapps/bin/chaos_3_x86_64_ib install-exec
    chmod -R g+w $BDTOPDIR/$VERSION/chaos_3_x86_64-icc
    for FILE in $BININSTALLS
    do chmod -R g+w /usr/gapps/bin/chaos_3_x86_64/$FILE
       chmod -R g+w /usr/gapps/bin/chaos_3_x86_64_elan4/$FILE
       chmod -R g+w /usr/gapps/bin/chaos_3_x86_64_ib/$FILE
    done
EOF
}
yanapsc() {
    ssh ${lcun}@yana << EOF > yanapsc.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/global/tools/RSI/bin:/usr/local/tools/pathscale/pathscale-2.4/bin2:/usr/local/bin:/bin:/usr/bin:/usr/bin/X11:/usr/lib/mpi/bin:/usr/apps/bin:/usr/gapps/bin:/usr/kerberos/bin
    LM_LICENSE_FILE=/usr/local/etc/license.client
    PATHSCALE_SUBSCRIPTION_DAEMON=license1ocf.llnl.gov
    export PATH LM_LICENSE_FILE PATHSCALE_SUBSCRIPTION_DAEMON
    rm -rf chaos_3_x86_64-pc-2.4
    mkdir chaos_3_x86_64-pc-2.4
    cd chaos_3_x86_64-pc-2.4
    ../$TOPSRCDIR/configure \
    CC=pathcc CXX=pathCC FC=pathf90 \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_64-pc-2.4 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CC=pathcc CXX=pathCC FC=pathf90 \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_64-pc-2.4
    make -j 4 check
    make install
    chmod -R g+w $BDTOPDIR/$VERSION/chaos_3_x86_64-pc-2.4
EOF
}
yanapgc() {
    ssh ${lcun}@yana << EOF > yanapgc.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/global/tools/RSI/bin:/usr/local/tools/pgi6.23/linux86-64/6.2/bin:/usr/local/bin:/bin:/usr/bin:/usr/bin/X11:/usr/lib/mpi/bin:/usr/apps/bin:/usr/gapps/bin:/usr/kerberos/bin
    LM_LICENSE_FILE=/usr/local/etc/license.client
    export PATH LM_LICENSE_FILE
    rm -rf chaos_3_x86_64-pgc-6.2
    mkdir chaos_3_x86_64-pgc-6.2
    cd chaos_3_x86_64-pgc-6.2
    ../$TOPSRCDIR/configure \
    CC=pgcc CXX=pgCC FC='pgf77 -g77libs' \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_64-pgc-6.2 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CC=pgcc CXX=pgCC FC='pgf77 -g77libs' \
    CFLAGS=-fPIC CXXFLAGS=-fPIC --disable-silex \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_x86_64-pgc-6.2
    make -j 4 check
    make install
    chmod -R g+w $BDTOPDIR/$VERSION/chaos_3_x86_64-pgc-6.2
EOF
}
    
thunder() {
  thundergcc
  thundericc
}
thundergcc() {
    ssh ${lcun}@thunder << EOF > thundergcc.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/intel/compiler91/bin:/usr/local/bin:/bin:/usr/bin:/usr/bin/X11:/usr/lib/mpi/bin:/usr/apps/bin:/usr/gapps/bin
    export PATH
    rm -rf chaos_3_ia64-gcc-3.4.4
    mkdir chaos_3_ia64-gcc-3.4.4
    cd chaos_3_ia64-gcc-3.4.4
    ../$TOPSRCDIR/configure \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_ia64-gcc-3.4.4 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_ia64-gcc-3.4.4
    make -j 4 check
    make install
    chmod -R g+w $BDTOPDIR/$VERSION/chaos_3_ia64-gcc-3.4.4
EOF
}
thundericc() {
    ssh ${lcun}@thunder << EOF > thundericc.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/local/intel/compiler91/bin:/usr/local/bin:/bin:/usr/bin:/usr/bin/X11:/usr/lib/mpi/bin:/usr/apps/bin:/usr/gapps/bin
    export PATH
    rm -rf chaos_3_ia64-icc
    mkdir chaos_3_ia64-icc
    cd chaos_3_ia64-icc
    . /usr/local/intel/compiler91/bin/iccvars.sh
    ../$TOPSRCDIR/configure \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    CC=icc CXX=icc FC=ifort F77=ifort LDFLAGS=-lstdc++ \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_ia64-icc \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    make -j 4 check
    make install
    make clean
    ../$TOPSRCDIR/configure \
    CFLAGS=-fPIC CXXFLAGS=-fPIC \
    CC=icc CXX=icc FC=ifort LDFLAGS=-lstdc++ \
    --prefix=$LCTOPDIR/$VERSION/chaos_3_ia64-icc \
    --enable-silex \
    --with-Qt-dir=/usr/gapps/silo/qt/$QTRELEASE/chaos_3_ia64-icc \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/chaos_3_ia64-icc \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/chaos_3_ia64-icc/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/chaos_3_ia64-icc/lib
    make -j 4 check
    make install
    gmake bindir=/usr/gapps/bin/chaos_3_ia64 install-exec
    gmake bindir=/usr/gapps/bin/chaos_3_ia64_elan4 install-exec
    chmod -R g+w $BDTOPDIR/$VERSION/chaos_3_ia64-icc
    for FILE in $BININSTALLS
    do chmod -R g+w /usr/gapps/bin/chaos_3_ia64/$FILE
       chmod -R g+w /usr/gapps/bin/chaos_3_ia64_elan4/$FILE
    done
EOF
}

quad() {
# not using gcc
# IRIX make doesn't support VPATH
# 32-bit and 64-bit compiles
  quad32
  quad64
}
quad32() {
    ssh ${lcun}@quad << EOF > quad32.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/sbin:/usr/bsd:/sbin:/usr/bin:/usr/bin/X11:/usr/freeware/bin
    LD_LIBRARY_PATH=/usr/gapps/silo/qt/$QTRELEASE/irix_6.5-gcc-3.3/lib:$LD_LIBRARY_PATH
    PARALLEL=4
    export PATH LD_LIBRARY_PATH PARALLEL
    rm -rf irix_6.5_n32
    mkdir irix_6.5_n32
    cd irix_6.5_n32
    ../$TOPSRCDIR/configure \
    PYTHON_CPPFLAGS=-I/usr/freeware/include/python2.1 \
    --prefix=$LCTOPDIR/$VERSION/irix_6.5_n32 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    gmake -j 4 check
    gmake install
    gmake clean
    ../$TOPSRCDIR/configure \
    PYTHON_CPPFLAGS=-I/usr/freeware/include/python2.1 \
    --prefix=$LCTOPDIR/$VERSION/irix_6.5_n32 \
    --enable-silex \
    --with-Qt-dir=/usr/gapps/silo/qt/$QTRELEASE/irix_6.5-gcc-3.3 \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/irix_6.5_n32 \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/irix_6.5_n32/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/irix_6.5_n32/lib
    gmake -j 4 check
    gmake install
    gmake bindir=/usr/gapps/bin/irix_6.5_64 install-exec
    chmod -R g+w $BDTOPDIR/$VERSION/irix_6.5_n32
    for FILE in $BININSTALLS
    do chmod -R g+w /usr/gapps/bin/irix_6.5_64/$FILE
    done
EOF
}
quad64() {
    ssh ${lcun}@quad << EOF > quad64.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/usr/sbin:/usr/bsd:/sbin:/usr/bin:/usr/bin/X11:/usr/freeware/bin
    PARALLEL=4
    export PATH PARALLEL
    rm -rf irix_6.5_64
    mkdir irix_6.5_64
    cd irix_6.5_64
    ../$TOPSRCDIR/configure \
    CC='cc -64' CXX='CC -64' FC='f77 -64' \
    LDFLAGS=-64 \
    CFLAGS='-O2 -c99' \
    PYTHON_CPPFLAGS=-I/usr/freeware/include/python2.1 \
    --prefix=$LCTOPDIR/$VERSION/irix_6.5_64 \
    --disable-browser --disable-silex --without-hdf5 --without-szlib
    gmake -j 4 check
    gmake install
    ln -s $LCTOPDIR/$VERSION/irix_6.5_n32/bin/silex \
       $LCTOPDIR/$VERSION/irix_6.5_64/bin/silex
    chmod -R g+w $BDTOPDIR/$VERSION/irix_6.5_64
EOF
}
    
ubgl() {
    ssh ${lcun}@ubgl << EOF > ubgl.log 2>&1 &
    #!/bin/sh -c
    cd $LCTOPDIR/$VERSION/test
    umask 002
    PATH=/opt/ibmcmp/vac/7.0/bin:/opt/ibmcmp/xlf/9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/bin/X11:/usr/lib/mpi/bin:/usr/apps/bin:/usr/gapps/bin
    export PATH
    rm -rf sles_9_ppc64
    mkdir sles_9_ppc64
    cd sles_9_ppc64
    ../$TOPSRCDIR/configure \
    CC='xlc' \
    --prefix=$LCTOPDIR/$VERSION/sles_9_ppc64 \
    --with-hdf5=/usr/local/tools/hdf5/hdf5-1.6.5/serial_frontend/include,/usr/local/tools/hdf5/hdf5-1.6.5/serial_frontend/lib
    gmake -j 4 install
    gmake clean
    ../$TOPSRCDIR/configure \
    CC='mpxlc' ac_cv_type_off64_t=yes ac_cv_sizeof_off64_t=8 \
    --prefix=$LCTOPDIR/$VERSION/sles_9_ppc64 \
    --disable-browser --without-readline --without-hdf5
    gmake -j 4 install
    gmake clean
    ../$TOPSRCDIR/configure \
    CC='mpxlc' ac_cv_type_off64_t=yes ac_cv_sizeof_off64_t=8 \
    --prefix=$LCTOPDIR/$VERSION/sles_9_ppc64 \
    --disable-browser  --without-readline \
    --with-szlib=/usr/gapps/silo/szip/$SZIPRELEASE/sles_9_ppc64 \
    --with-hdf5=/usr/gapps/silo/hdf5/$HDF5RELEASE/sles_9_ppc64/include,/usr/gapps/silo/hdf5/$HDF5RELEASE/sles_9_ppc64/lib
    gmake -j 4 install
    gmake bindir=/usr/gapps/bin/sles_9_ppc64 install-exec
    chmod -R g+w $LCTOPDIR/$VERSION/sles_9_ppc64
    for FILE in $BININSTALLS
    do chmod -R g+w /usr/gapps/bin/sles_9_ppc64/$FILE
    done
EOF
}

if [ $# -lt 1 ] ; then
  usage
  exit 2
fi
GROUPNAME=`id -gn`
if [ "$GROUPNAME" != "visit" ] ; then
   echo "You must be in the \"visit\" group to run $0. Do \"newgrp visit\"."
   exit 2
fi
umask 002
VERSION=$1
shift
if [ "$1" = "-lc-username" ] ; then
   lcun=$2
   shift 2
fi

TARFILE="silo-$VERSION.tar.gz"
TOPSRCDIR="silo-$VERSION"
  ssh hoth "/bin/sh -c \"(umask 002; \
  mkdir $BDTOPDIR/$VERSION; \
  mkdir $BDTOPDIR/$VERSION/test)\" "
  ssh ${lcun}@yana "/bin/sh -c \"(umask 002; \
  mkdir $LCTOPDIR/$VERSION; \
  mkdir $LCTOPDIR/$VERSION/test)\" "
if [ -e $TARFILE ] ; then
  scp $TARFILE hoth:$BDTOPDIR/$VERSION
  scp $TARFILE ${lcun}@yana:$LCTOPDIR/$VERSION

  ssh hoth "/bin/sh -c \"(umask 002; \
   cd $BDTOPDIR/$VERSION/test; \
   chmod a+r,g+w ../$TARFILE; \
   tar zxf ../$TARFILE)\" "
  ssh ${lcun}@yana "/bin/sh -c \"(umask 002; \
   cd $LCTOPDIR/$VERSION/test; \
   chmod a+r,g+w ../$TARFILE; \
   tar zxf ../$TARFILE)\" "
fi 

if [ $# -lt 1 ] ; then
    hoth
    sunspot
    up
    thunder
    pengra
    yana
    quad
    ubgl
else
 while [ "$*" != "" ]
 do
  case $1 in
    all|-a*)
      hoth
      sunspot
      up
      thunder
      pengra
      yana
      quad
      ubgl
      shift;;
    hothgcc|-hothgcc)
      hothgcc
      shift;;
    hothpgc|-hothpgc)
      hothpgc
      shift;;
    hothicc|-hothicc)
      hothicc
      shift;;
    hoth|-ho*)
      hoth
      shift;;
    sun*gcc|-sun*gcc)
      sunspotgcc
      shift;;
    sun*cc|-sun*cc)
      sunspotcc
      shift;;
    sun*|-sun*)
      sunspot
      shift;;
    upgcc32|-up*gcc32)
      upgcc32
      shift;;
    up32|-up*32)
      up32
      shift;;
    upgcc64|-up*gcc64)
      upgcc64
      shift;;
    up64|-up*64)
      up64
      shift;;
    upgcc|-upgcc)
      upgcc
      shift;;
    up|-up*)
      up
      shift;;
    gpscc|-gpscc)
      gpscc
      shift;;
    gps|-gps)
      gps
      shift;;
    thun*icc|-th*icc)
      thundericc
      shift;;
    thun*gcc|-th*gcc)
      thundergcc
      shift;;
    thun*|-th*)
      thunder
      shift;;
    yana*icc|-ya*icc)
      yanaicc
      shift;;
    yana*gcc|-ya*gcc)
      yanagcc
      shift;;
    yana*|-ya*)
      yana
      shift;;
    pen*icc|-pe*icc)
      pengraicc
      shift;;
    pen*gcc|-pe*gcc)
      pengragcc
      shift;;
    pen*|-pe*)
      pengra
      shift;;
    quad32|-quad32)
      quad32
      shift;;
    quad64|-quad64)
      quad64
      shift;;
    quad|-quad)
      quad
      shift;;
    ubgl|-ubgl)
      ubgl
      shift;;
    sh*|-sh*)
      shar
      shift;;
    *)
      shift;;
    esac
  done
fi
